var ThreesyLine=function(){"use strict";function t(t){return function(){var n=this.ownerDocument,e=this.namespaceURI;return e===Me&&n.documentElement.namespaceURI===Me?n.createElement(t):n.createElementNS(e,t)}}function n(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function e(t,n,e){return t=r(t,n,e),function(n){var e=n.relatedTarget;e&&(e===this||8&e.compareDocumentPosition(this))||t.call(this,n)}}function r(t,n,e){return function(r){var i=De;De=r;try{t.call(this,this.__data__,n,e)}finally{De=i}}}function i(t){return t.trim().split(/^|\s+/).map(function(t){var n="",e=t.indexOf(".");return e>=0&&(n=t.slice(e+1),t=t.slice(0,e)),{type:t,name:n}})}function o(t){return function(){var n=this.__on;if(n){for(var e,r=0,i=-1,o=n.length;r<o;++r)e=n[r],t.type&&e.type!==t.type||e.name!==t.name?n[++i]=e:this.removeEventListener(e.type,e.listener,e.capture);++i?n.length=i:delete this.__on}}}function a(t,n,i){var o=Ue.hasOwnProperty(t.type)?e:r;return function(e,r,a){var u,s=this.__on,c=o(n,r,a);if(s)for(var h=0,l=s.length;h<l;++h)if((u=s[h]).type===t.type&&u.name===t.name)return this.removeEventListener(u.type,u.listener,u.capture),this.addEventListener(u.type,u.listener=c,u.capture=i),void(u.value=n);this.addEventListener(t.type,c,i),u={type:t.type,name:t.name,value:n,listener:c,capture:i},s?s.push(u):this.__on=[u]}}function u(){}function s(){return[]}function c(t,n){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=n}function h(t,n,e,r,i,o){for(var a,u=0,s=n.length,h=o.length;u<h;++u)(a=n[u])?(a.__data__=o[u],r[u]=a):e[u]=new c(t,o[u]);for(;u<s;++u)(a=n[u])&&(i[u]=a)}function l(t,n,e,r,i,o,a){var u,s,h,l={},f=n.length,d=o.length,g=new Array(f);for(u=0;u<f;++u)(s=n[u])&&(g[u]=h=je+a.call(s,s.__data__,u,n),h in l?i[u]=s:l[h]=s);for(u=0;u<d;++u)h=je+a.call(t,o[u],u,o),(s=l[h])?(r[u]=s,s.__data__=o[u],l[h]=null):e[u]=new c(t,o[u]);for(u=0;u<f;++u)(s=n[u])&&l[g[u]]===s&&(i[u]=s)}function f(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}function d(t){return function(){this.removeAttribute(t)}}function g(t){return function(){this.removeAttributeNS(t.space,t.local)}}function p(t,n){return function(){this.setAttribute(t,n)}}function y(t,n){return function(){this.setAttributeNS(t.space,t.local,n)}}function m(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttribute(t):this.setAttribute(t,e)}}function v(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,e)}}function _(t){return function(){this.style.removeProperty(t)}}function x(t,n,e){return function(){this.style.setProperty(t,n,e)}}function w(t,n,e){return function(){var r=n.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,e)}}function b(t){return function(){delete this[t]}}function M(t,n){return function(){this[t]=n}}function T(t,n){return function(){var e=n.apply(this,arguments);null==e?delete this[t]:this[t]=e}}function k(t){return t.trim().split(/^|\s+/)}function C(t){return t.classList||new N(t)}function N(t){this._node=t,this._names=k(t.getAttribute("class")||"")}function S(t,n){for(var e=C(t),r=-1,i=n.length;++r<i;)e.add(n[r])}function A(t,n){for(var e=C(t),r=-1,i=n.length;++r<i;)e.remove(n[r])}function Y(t){return function(){S(this,t)}}function U(t){return function(){A(this,t)}}function D(t,n){return function(){(n.apply(this,arguments)?S:A)(this,t)}}function E(){this.textContent=""}function L(t){return function(){this.textContent=t}}function X(t){return function(){var n=t.apply(this,arguments);this.textContent=null==n?"":n}}function F(){this.innerHTML=""}function P(t){return function(){this.innerHTML=t}}function H(t){return function(){var n=t.apply(this,arguments);this.innerHTML=null==n?"":n}}function z(){this.nextSibling&&this.parentNode.appendChild(this)}function O(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function I(){return null}function q(){var t=this.parentNode;t&&t.removeChild(this)}function j(t,n,e){var r=er(t),i=r.CustomEvent;i?i=new i(n,e):(i=r.document.createEvent("Event"),e?(i.initEvent(n,e.bubbles,e.cancelable),i.detail=e.detail):i.initEvent(n,!1,!1)),t.dispatchEvent(i)}function $(t,n){return function(){return j(this,t,n)}}function R(t,n){return function(){return j(this,t,n.apply(this,arguments))}}function Z(t,n){this._groups=t,this._parents=n}function W(){return new Z([[document.documentElement]],pr)}function B(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function G(){return new B}function V(t){this._context=t}function J(t){return t[0]}function Q(t){return t[1]}function K(t){this._curve=t}function tt(t){function n(n){return new K(t(n))}return n._curve=t,n}function nt(t,n,e){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+n)/6,(t._y0+4*t._y1+e)/6)}function et(t){this._context=t}function rt(t){return t<0?-1:1}function it(t,n,e){var r=t._x1-t._x0,i=n-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),a=(e-t._y1)/(i||r<0&&-0),u=(o*i+a*r)/(r+i);return(rt(o)+rt(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(u))||0}function ot(t,n){var e=t._x1-t._x0;return e?(3*(t._y1-t._y0)/e-n)/2:n}function at(t,n,e){var r=t._x0,i=t._y0,o=t._x1,a=t._y1,u=(o-r)/3;t._context.bezierCurveTo(r+u,i+u*n,o-u,a-u*e,o,a)}function ut(t){this._context=t}function st(t){this._context=new ct(t)}function ct(t){this._context=t}function ht(t){return function(n,e){return Tr(t(n),e)}}function lt(t,n,e){var r=Math.abs(n-t)/Math.max(0,e),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),o=r/i;return o>=Ur?i*=10:o>=Dr?i*=5:o>=Er&&(i*=2),n<t?-i:i}function ft(){}function dt(t,n){var e=new ft;if(t instanceof ft)t.each(function(t,n){e.set(n,t)});else if(Array.isArray(t)){var r,i=-1,o=t.length;if(null==n)for(;++i<o;)e.set(i,t[i]);else for(;++i<o;)e.set(n(r=t[i],i,t),r)}else if(t)for(var a in t)e.set(a,t[a]);return e}function gt(){}function pt(t,n){var e=new gt;if(t instanceof gt)t.each(function(t){e.add(t)});else if(t){var r=-1,i=t.length;if(null==n)for(;++r<i;)e.add(t[r]);else for(;++r<i;)e.add(n(t[r],r,t))}return e}function yt(t){function n(n){var o=n+"",a=e.get(o);if(!a){if(i!==Or)return i;e.set(o,a=r.push(n))}return t[(a-1)%t.length]}var e=dt(),r=[],i=Or;return t=null==t?[]:zr.call(t),n.domain=function(t){if(!arguments.length)return r.slice();r=[],e=dt();for(var i,o,a=-1,u=t.length;++a<u;)e.has(o=(i=t[a])+"")||e.set(o,r.push(i));return n},n.range=function(e){return arguments.length?(t=zr.call(e),n):t.slice()},n.unknown=function(t){return arguments.length?(i=t,n):i},n.copy=function(){return yt().domain(r).range(t).unknown(i)},n}function mt(){function t(){var t=i().length,r=a[1]<a[0],l=a[r-0],f=a[1-r];n=(f-l)/Math.max(1,t-s+2*c),u&&(n=Math.floor(n)),l+=(f-l-n*(t-s))*h,e=n*(1-s),u&&(l=Math.round(l),e=Math.round(e));var d=Yr(t).map(function(t){return l+n*t});return o(r?d.reverse():d)}var n,e,r=yt().unknown(void 0),i=r.domain,o=r.range,a=[0,1],u=!1,s=0,c=0,h=.5;return delete r.unknown,r.domain=function(n){return arguments.length?(i(n),t()):i()},r.range=function(n){return arguments.length?(a=[+n[0],+n[1]],t()):a.slice()},r.rangeRound=function(n){return a=[+n[0],+n[1]],u=!0,t()},r.bandwidth=function(){return e},r.step=function(){return n},r.round=function(n){return arguments.length?(u=!!n,t()):u},r.padding=function(n){return arguments.length?(s=c=Math.max(0,Math.min(1,n)),t()):s},r.paddingInner=function(n){return arguments.length?(s=Math.max(0,Math.min(1,n)),t()):s},r.paddingOuter=function(n){return arguments.length?(c=Math.max(0,Math.min(1,n)),t()):c},r.align=function(n){return arguments.length?(h=Math.max(0,Math.min(1,n)),t()):h},r.copy=function(){return mt().domain(i()).range(a).round(u).paddingInner(s).paddingOuter(c).align(h)},t()}function vt(t){var n=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return vt(n())},t}function _t(){return vt(mt().paddingInner(1))}function xt(t,n){var e=Object.create(t.prototype);for(var r in n)e[r]=n[r];return e}function wt(){}function bt(t){var n;return t=(t+"").trim().toLowerCase(),(n=Wr.exec(t))?(n=parseInt(n[1],16),new Nt(n>>8&15|n>>4&240,n>>4&15|240&n,(15&n)<<4|15&n,1)):(n=Br.exec(t))?Mt(parseInt(n[1],16)):(n=Gr.exec(t))?new Nt(n[1],n[2],n[3],1):(n=Vr.exec(t))?new Nt(255*n[1]/100,255*n[2]/100,255*n[3]/100,1):(n=Jr.exec(t))?Tt(n[1],n[2],n[3],n[4]):(n=Qr.exec(t))?Tt(255*n[1]/100,255*n[2]/100,255*n[3]/100,n[4]):(n=Kr.exec(t))?St(n[1],n[2]/100,n[3]/100,1):(n=ti.exec(t))?St(n[1],n[2]/100,n[3]/100,n[4]):ni.hasOwnProperty(t)?Mt(ni[t]):"transparent"===t?new Nt(NaN,NaN,NaN,0):null}function Mt(t){return new Nt(t>>16&255,t>>8&255,255&t,1)}function Tt(t,n,e,r){return r<=0&&(t=n=e=NaN),new Nt(t,n,e,r)}function kt(t){return t instanceof wt||(t=bt(t)),t?(t=t.rgb(),new Nt(t.r,t.g,t.b,t.opacity)):new Nt}function Ct(t,n,e,r){return 1===arguments.length?kt(t):new Nt(t,n,e,null==r?1:r)}function Nt(t,n,e,r){this.r=+t,this.g=+n,this.b=+e,this.opacity=+r}function St(t,n,e,r){return r<=0?t=n=e=NaN:e<=0||e>=1?t=n=NaN:n<=0&&(t=NaN),new Ut(t,n,e,r)}function At(t){if(t instanceof Ut)return new Ut(t.h,t.s,t.l,t.opacity);if(t instanceof wt||(t=bt(t)),!t)return new Ut;if(t instanceof Ut)return t;t=t.rgb();var n=t.r/255,e=t.g/255,r=t.b/255,i=Math.min(n,e,r),o=Math.max(n,e,r),a=NaN,u=o-i,s=(o+i)/2;return u?(a=n===o?(e-r)/u+6*(e<r):e===o?(r-n)/u+2:(n-e)/u+4,u/=s<.5?o+i:2-o-i,a*=60):u=s>0&&s<1?0:a,new Ut(a,u,s,t.opacity)}function Yt(t,n,e,r){return 1===arguments.length?At(t):new Ut(t,n,e,null==r?1:r)}function Ut(t,n,e,r){this.h=+t,this.s=+n,this.l=+e,this.opacity=+r}function Dt(t,n,e){return 255*(t<60?n+(e-n)*t/60:t<180?e:t<240?n+(e-n)*(240-t)/60:n)}function Et(t){if(t instanceof Xt)return new Xt(t.l,t.a,t.b,t.opacity);if(t instanceof qt){var n=t.h*ei;return new Xt(t.l,Math.cos(n)*t.c,Math.sin(n)*t.c,t.opacity)}t instanceof Nt||(t=kt(t));var e=zt(t.r),r=zt(t.g),i=zt(t.b),o=Ft((.4124564*e+.3575761*r+.1804375*i)/oi),a=Ft((.2126729*e+.7151522*r+.072175*i)/ai),u=Ft((.0193339*e+.119192*r+.9503041*i)/ui);return new Xt(116*a-16,500*(o-a),200*(a-u),t.opacity)}function Lt(t,n,e,r){return 1===arguments.length?Et(t):new Xt(t,n,e,null==r?1:r)}function Xt(t,n,e,r){this.l=+t,this.a=+n,this.b=+e,this.opacity=+r}function Ft(t){return t>li?Math.pow(t,1/3):t/hi+si}function Pt(t){return t>ci?t*t*t:hi*(t-si)}function Ht(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function zt(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function Ot(t){if(t instanceof qt)return new qt(t.h,t.c,t.l,t.opacity);t instanceof Xt||(t=Et(t));var n=Math.atan2(t.b,t.a)*ri;return new qt(n<0?n+360:n,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function It(t,n,e,r){return 1===arguments.length?Ot(t):new qt(t,n,e,null==r?1:r)}function qt(t,n,e,r){this.h=+t,this.c=+n,this.l=+e,this.opacity=+r}function jt(t){if(t instanceof Rt)return new Rt(t.h,t.s,t.l,t.opacity);t instanceof Nt||(t=kt(t));var n=t.r/255,e=t.g/255,r=t.b/255,i=(_i*r+mi*n-vi*e)/(_i+mi-vi),o=r-i,a=(yi*(e-i)-gi*o)/pi,u=Math.sqrt(a*a+o*o)/(yi*i*(1-i)),s=u?Math.atan2(a,o)*ri-120:NaN;return new Rt(s<0?s+360:s,u,i,t.opacity)}function $t(t,n,e,r){return 1===arguments.length?jt(t):new Rt(t,n,e,null==r?1:r)}function Rt(t,n,e,r){this.h=+t,this.s=+n,this.l=+e,this.opacity=+r}function Zt(t,n){return function(e){return t+e*n}}function Wt(t,n,e){return t=Math.pow(t,e),n=Math.pow(n,e)-t,e=1/e,function(r){return Math.pow(t+r*n,e)}}function Bt(t,n){var e=n-t;return e?Zt(t,e>180||e<-180?e-360*Math.round(e/360):e):xi(isNaN(t)?n:t)}function Gt(t){return 1===(t=+t)?Vt:function(n,e){return e-n?Wt(n,e,t):xi(isNaN(n)?e:n)}}function Vt(t,n){var e=n-t;return e?Zt(t,e):xi(isNaN(t)?n:t)}function Jt(t){return function(){return t}}function Qt(t){return function(n){return t(n)+""}}function Kt(t){return function n(e){function r(n,r){var i=t((n=$t(n)).h,(r=$t(r)).h),o=Vt(n.s,r.s),a=Vt(n.l,r.l),u=Vt(n.opacity,r.opacity);return function(t){return n.h=i(t),n.s=o(t),n.l=a(Math.pow(t,e)),n.opacity=u(t),n+""}}return e=+e,r.gamma=n,r}(1)}function tn(t,n){return(n-=t=+t)?function(e){return(e-t)/n}:Fi(n)}function nn(t){return function(n,e){var r=t(n=+n,e=+e);return function(t){return t<=n?0:t>=e?1:r(t)}}}function en(t){return function(n,e){var r=t(n=+n,e=+e);return function(t){return t<=0?n:t>=1?e:r(t)}}}function rn(t,n,e,r){var i=t[0],o=t[1],a=n[0],u=n[1];return o<i?(i=e(o,i),a=r(u,a)):(i=e(i,o),a=r(a,u)),function(t){return a(i(t))}}function on(t,n,e,r){var i=Math.min(t.length,n.length)-1,o=new Array(i),a=new Array(i),u=-1;for(t[i]<t[0]&&(t=t.slice().reverse(),n=n.slice().reverse());++u<i;)o[u]=e(t[u],t[u+1]),a[u]=r(n[u],n[u+1]);return function(n){var e=Nr(t,n,1,i)-1;return a[e](o[e](n))}}function an(t,n){return n.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp())}function un(t,n){function e(){return i=Math.min(u.length,s.length)>2?on:rn,o=a=null,r}function r(n){return(o||(o=i(u,s,h?nn(t):t,c)))(+n)}var i,o,a,u=Hi,s=Hi,c=Di,h=!1;return r.invert=function(t){return(a||(a=i(s,u,tn,h?en(n):n)))(+t)},r.domain=function(t){return arguments.length?(u=Hr.call(t,Pi),e()):u.slice()},r.range=function(t){return arguments.length?(s=zr.call(t),e()):s.slice()},r.rangeRound=function(t){return s=zr.call(t),c=Ei,e()},r.clamp=function(t){return arguments.length?(h=!!t,e()):h},r.interpolate=function(t){return arguments.length?(c=t,e()):c},e()}function sn(t){if(!(n=Zi.exec(t)))throw new Error("invalid format: "+t);var n,e=n[1]||" ",r=n[2]||">",i=n[3]||"-",o=n[4]||"",a=!!n[5],u=n[6]&&+n[6],s=!!n[7],c=n[8]&&+n[8].slice(1),h=n[9]||"";"n"===h?(s=!0,h="g"):Ri[h]||(h=""),(a||"0"===e&&"="===r)&&(a=!0,e="0",r="="),this.fill=e,this.align=r,this.sign=i,this.symbol=o,this.zero=a,this.width=u,this.comma=s,this.precision=c,this.type=h}function cn(t){return t}function hn(t){return Bi=Qi(t),Gi=Bi.format,Vi=Bi.formatPrefix,Bi}function ln(t){var n=t.domain;return t.ticks=function(t){var e=n();return Lr(e[0],e[e.length-1],null==t?10:t)},t.tickFormat=function(t,e){return eo(n(),t,e)},t.nice=function(e){var r=n(),i=r.length-1,o=null==e?10:e,a=r[0],u=r[i],s=lt(a,u,o);return s&&(s=lt(Math.floor(a/s)*s,Math.ceil(u/s)*s,o),r[0]=Math.floor(a/s)*s,r[i]=Math.ceil(u/s)*s,n(r)),t},t}function fn(){var t=un(tn,Ti);return t.copy=function(){return an(t,fn())},ln(t)}function dn(t,n,e,r){function i(n){return t(n=new Date((+n))),n}return i.floor=i,i.ceil=function(e){return t(e=new Date(e-1)),n(e,1),t(e),e},i.round=function(t){var n=i(t),e=i.ceil(t);return t-n<e-t?n:e},i.offset=function(t,e){return n(t=new Date((+t)),null==e?1:Math.floor(e)),t},i.range=function(e,r,o){var a=[];if(e=i.ceil(e),o=null==o?1:Math.floor(o),!(e<r&&o>0))return a;do a.push(new Date((+e)));while(n(e,o),t(e),e<r);return a},i.filter=function(e){return dn(function(n){if(n>=n)for(;t(n),!e(n);)n.setTime(n-1)},function(t,r){if(t>=t)for(;--r>=0;)for(;n(t,1),!e(t););})},e&&(i.count=function(n,r){return ro.setTime(+n),io.setTime(+r),t(ro),t(io),Math.floor(e(ro,io))},i.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?i.filter(r?function(n){return r(n)%t===0}:function(n){return i.count(0,n)%t===0}):i:null}),i}function gn(t){return dn(function(n){n.setDate(n.getDate()-(n.getDay()+7-t)%7),n.setHours(0,0,0,0)},function(t,n){t.setDate(t.getDate()+7*n)},function(t,n){return(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*uo)/ho})}function pn(t){return dn(function(n){n.setUTCDate(n.getUTCDate()-(n.getUTCDay()+7-t)%7),n.setUTCHours(0,0,0,0)},function(t,n){t.setUTCDate(t.getUTCDate()+7*n)},function(t,n){return(n-t)/ho})}function yn(t){if(0<=t.y&&t.y<100){var n=new Date((-1),t.m,t.d,t.H,t.M,t.S,t.L);return n.setFullYear(t.y),n}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function mn(t){if(0<=t.y&&t.y<100){var n=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return n.setUTCFullYear(t.y),n}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function vn(t){return{y:t,m:0,d:1,H:0,M:0,S:0,L:0}}function _n(t){function n(t,n){return function(e){var r,i,o,a=[],u=-1,s=0,c=t.length;for(e instanceof Date||(e=new Date((+e)));++u<c;)37===t.charCodeAt(u)&&(a.push(t.slice(s,u)),null!=(i=ko[r=t.charAt(++u)])?r=t.charAt(++u):i="e"===r?" ":"0",(o=n[r])&&(r=o(e,i)),a.push(r),s=u+1);return a.push(t.slice(s,u)),a.join("")}}function e(t,n){return function(e){var i=vn(1900),o=r(i,t,e+="",0);if(o!=e.length)return null;if("p"in i&&(i.H=i.H%12+12*i.p),"W"in i||"U"in i){"w"in i||(i.w="W"in i?1:0);var a="Z"in i?mn(vn(i.y)).getUTCDay():n(vn(i.y)).getDay();i.m=0,i.d="W"in i?(i.w+6)%7+7*i.W-(a+5)%7:i.w+7*i.U-(a+6)%7}return"Z"in i?(i.H+=i.Z/100|0,i.M+=i.Z%100,mn(i)):n(i)}}function r(t,n,e,r){for(var i,o,a=0,u=n.length,s=e.length;a<u;){if(r>=s)return-1;if(i=n.charCodeAt(a++),37===i){if(i=n.charAt(a++),o=q[i in ko?n.charAt(a++):i],!o||(r=o(t,e,r))<0)return-1}else if(i!=e.charCodeAt(r++))return-1}return r}function i(t,n,e){var r=Y.exec(n.slice(e));return r?(t.p=U[r[0].toLowerCase()],e+r[0].length):-1}function o(t,n,e){var r=L.exec(n.slice(e));return r?(t.w=X[r[0].toLowerCase()],e+r[0].length):-1}function a(t,n,e){var r=D.exec(n.slice(e));return r?(t.w=E[r[0].toLowerCase()],e+r[0].length):-1}function u(t,n,e){var r=H.exec(n.slice(e));return r?(t.m=z[r[0].toLowerCase()],e+r[0].length):-1}function s(t,n,e){var r=F.exec(n.slice(e));return r?(t.m=P[r[0].toLowerCase()],e+r[0].length):-1}function c(t,n,e){return r(t,b,n,e)}function h(t,n,e){return r(t,M,n,e)}function l(t,n,e){return r(t,T,n,e)}function f(t){return N[t.getDay()]}function d(t){return C[t.getDay()]}function g(t){return A[t.getMonth()]}function p(t){return S[t.getMonth()]}function y(t){return k[+(t.getHours()>=12)]}function m(t){return N[t.getUTCDay()]}function v(t){return C[t.getUTCDay()]}function _(t){return A[t.getUTCMonth()]}function x(t){return S[t.getUTCMonth()]}function w(t){return k[+(t.getUTCHours()>=12)]}var b=t.dateTime,M=t.date,T=t.time,k=t.periods,C=t.days,N=t.shortDays,S=t.months,A=t.shortMonths,Y=bn(k),U=Mn(k),D=bn(C),E=Mn(C),L=bn(N),X=Mn(N),F=bn(S),P=Mn(S),H=bn(A),z=Mn(A),O={a:f,A:d,b:g,B:p,c:null,d:Hn,e:Hn,H:zn,I:On,j:In,L:qn,m:jn,M:$n,p:y,S:Rn,U:Zn,w:Wn,W:Bn,x:null,X:null,y:Gn,Y:Vn,Z:Jn,"%":fe},I={a:m,A:v,b:_,B:x,c:null,d:Qn,e:Qn,H:Kn,I:te,j:ne,L:ee,m:re,M:ie,p:w,S:oe,U:ae,w:ue,W:se,x:null,X:null,y:ce,Y:he,Z:le,"%":fe},q={a:o,A:a,b:u,B:s,c:c,d:Un,e:Un,H:En,I:En,j:Dn,L:Fn,m:Yn,M:Ln,p:i,S:Xn,U:kn,w:Tn,W:Cn,x:h,X:l,y:Sn,Y:Nn,Z:An,"%":Pn};return O.x=n(M,O),O.X=n(T,O),O.c=n(b,O),I.x=n(M,I),I.X=n(T,I),I.c=n(b,I),{format:function(t){var e=n(t+="",O);return e.toString=function(){return t},e},parse:function(t){var n=e(t+="",yn);return n.toString=function(){return t},n},utcFormat:function(t){var e=n(t+="",I);return e.toString=function(){return t},e},utcParse:function(t){var n=e(t,mn);return n.toString=function(){return t},n}}}function xn(t,n,e){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<e?new Array(e-o+1).join(n)+i:i)}function wn(t){return t.replace(So,"\\$&")}function bn(t){return new RegExp("^(?:"+t.map(wn).join("|")+")","i")}function Mn(t){for(var n={},e=-1,r=t.length;++e<r;)n[t[e].toLowerCase()]=e;return n}function Tn(t,n,e){var r=Co.exec(n.slice(e,e+1));return r?(t.w=+r[0],e+r[0].length):-1}function kn(t,n,e){var r=Co.exec(n.slice(e));return r?(t.U=+r[0],e+r[0].length):-1}function Cn(t,n,e){var r=Co.exec(n.slice(e));return r?(t.W=+r[0],e+r[0].length):-1}function Nn(t,n,e){var r=Co.exec(n.slice(e,e+4));return r?(t.y=+r[0],e+r[0].length):-1}function Sn(t,n,e){var r=Co.exec(n.slice(e,e+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),e+r[0].length):-1}function An(t,n,e){var r=/^(Z)|([+-]\d\d)(?:\:?(\d\d))?/.exec(n.slice(e,e+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),e+r[0].length):-1}function Yn(t,n,e){var r=Co.exec(n.slice(e,e+2));return r?(t.m=r[0]-1,e+r[0].length):-1}function Un(t,n,e){var r=Co.exec(n.slice(e,e+2));return r?(t.d=+r[0],e+r[0].length):-1}function Dn(t,n,e){var r=Co.exec(n.slice(e,e+3));return r?(t.m=0,t.d=+r[0],e+r[0].length):-1}function En(t,n,e){var r=Co.exec(n.slice(e,e+2));return r?(t.H=+r[0],e+r[0].length):-1}function Ln(t,n,e){var r=Co.exec(n.slice(e,e+2));return r?(t.M=+r[0],e+r[0].length):-1}function Xn(t,n,e){var r=Co.exec(n.slice(e,e+2));return r?(t.S=+r[0],e+r[0].length):-1}function Fn(t,n,e){var r=Co.exec(n.slice(e,e+3));return r?(t.L=+r[0],e+r[0].length):-1}function Pn(t,n,e){var r=No.exec(n.slice(e,e+1));return r?e+r[0].length:-1}function Hn(t,n){return xn(t.getDate(),n,2)}function zn(t,n){return xn(t.getHours(),n,2)}function On(t,n){return xn(t.getHours()%12||12,n,2)}function In(t,n){return xn(1+lo.count(po(t),t),n,3)}function qn(t,n){return xn(t.getMilliseconds(),n,3)}function jn(t,n){return xn(t.getMonth()+1,n,2)}function $n(t,n){return xn(t.getMinutes(),n,2)}function Rn(t,n){return xn(t.getSeconds(),n,2)}function Zn(t,n){return xn(fo.count(po(t),t),n,2)}function Wn(t){return t.getDay()}function Bn(t,n){return xn(go.count(po(t),t),n,2)}function Gn(t,n){return xn(t.getFullYear()%100,n,2)}function Vn(t,n){return xn(t.getFullYear()%1e4,n,4)}function Jn(t){var n=t.getTimezoneOffset();return(n>0?"-":(n*=-1,"+"))+xn(n/60|0,"0",2)+xn(n%60,"0",2)}function Qn(t,n){return xn(t.getUTCDate(),n,2)}function Kn(t,n){return xn(t.getUTCHours(),n,2)}function te(t,n){return xn(t.getUTCHours()%12||12,n,2)}function ne(t,n){return xn(1+yo.count(_o(t),t),n,3)}function ee(t,n){return xn(t.getUTCMilliseconds(),n,3)}function re(t,n){return xn(t.getUTCMonth()+1,n,2)}function ie(t,n){return xn(t.getUTCMinutes(),n,2)}function oe(t,n){return xn(t.getUTCSeconds(),n,2)}function ae(t,n){return xn(mo.count(_o(t),t),n,2)}function ue(t){return t.getUTCDay()}function se(t,n){return xn(vo.count(_o(t),t),n,2)}function ce(t,n){return xn(t.getUTCFullYear()%100,n,2)}function he(t,n){return xn(t.getUTCFullYear()%1e4,n,4)}function le(){return"+0000"}function fe(){return"%"}function de(t){return xo=_n(t),wo=xo.format,bo=xo.parse,Mo=xo.utcFormat,To=xo.utcParse,xo}function ge(t){return t.toISOString()}function pe(t){var n=new Date(t);return isNaN(n)?null:n}function ye(t,n,e){var r=t(e);return"translate("+(isFinite(r)?r:n(e))+",0)"}function me(t,n,e){var r=t(e);return"translate(0,"+(isFinite(r)?r:n(e))+")"}function ve(t){var n=t.bandwidth()/2;return t.round()&&(n=Math.round(n)),function(e){return t(e)+n}}function _e(){return!this.__axis}function xe(t,n){function e(e){var c,h=null==i?n.ticks?n.ticks.apply(n,r):n.domain():i,l=null==o?n.tickFormat?n.tickFormat.apply(n,r):Do:o,f=Math.max(a,0)+s,d=t===Eo||t===Xo?ye:me,g=n.range(),p=g[0]+.5,y=g[g.length-1]+.5,m=(n.bandwidth?ve:Do)(n.copy()),v=e.selection?e.selection():e,_=v.selectAll(".domain").data([null]),x=v.selectAll(".tick").data(h,n).order(),w=x.exit(),b=x.enter().append("g").attr("class","tick"),M=x.select("line"),T=x.select("text"),k=t===Eo||t===Fo?-1:1,C=t===Fo||t===Lo?(c="x","y"):(c="y","x");_=_.merge(_.enter().insert("path",".tick").attr("class","domain").attr("stroke","#000")),x=x.merge(b),M=M.merge(b.append("line").attr("stroke","#000").attr(c+"2",k*a).attr(C+"1",.5).attr(C+"2",.5)),T=T.merge(b.append("text").attr("fill","#000").attr(c,k*f).attr(C,.5).attr("dy",t===Eo?"0em":t===Xo?"0.71em":"0.32em")),e!==v&&(_=_.transition(e),x=x.transition(e),M=M.transition(e),T=T.transition(e),w=w.transition(e).attr("opacity",Po).attr("transform",function(t){return d(m,this.parentNode.__axis||m,t)}),b.attr("opacity",Po).attr("transform",function(t){return d(this.parentNode.__axis||m,m,t)})),w.remove(),_.attr("d",t===Fo||t==Lo?"M"+k*u+","+p+"H0.5V"+y+"H"+k*u:"M"+p+","+k*u+"V0.5H"+y+"V"+k*u),x.attr("opacity",1).attr("transform",function(t){return d(m,m,t)}),M.attr(c+"2",k*a),T.attr(c,k*f).text(l),v.filter(_e).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===Lo?"start":t===Fo?"end":"middle"),v.each(function(){this.__axis=m})}var r=[],i=null,o=null,a=6,u=6,s=3;return e.scale=function(t){return arguments.length?(n=t,e):n},e.ticks=function(){return r=Uo.call(arguments),e},e.tickArguments=function(t){return arguments.length?(r=null==t?[]:Uo.call(t),e):r.slice()},e.tickValues=function(t){return arguments.length?(i=null==t?null:Uo.call(t),e):i&&i.slice()},e.tickFormat=function(t){return arguments.length?(o=t,e):o},e.tickSize=function(t){return arguments.length?(a=u=+t,e):a},e.tickSizeInner=function(t){return arguments.length?(a=+t,e):a},e.tickSizeOuter=function(t){return arguments.length?(u=+t,e):u},e.tickPadding=function(t){return arguments.length?(s=+t,e):s},e}function we(t){return xe(Xo,t)}function be(t){return xe(Fo,t)}var Me="http://www.w3.org/1999/xhtml",Te={svg:"http://www.w3.org/2000/svg",xhtml:Me,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},ke=function(t){var n=t+="",e=n.indexOf(":");return e>=0&&"xmlns"!==(n=t.slice(0,e))&&(t=t.slice(e+1)),Te.hasOwnProperty(n)?{space:Te[n],local:t}:t},Ce=function(e){var r=ke(e);return(r.local?n:t)(r)},Ne=function(t){return function(){return this.matches(t)}};if("undefined"!=typeof document){var Se=document.documentElement;if(!Se.matches){var Ae=Se.webkitMatchesSelector||Se.msMatchesSelector||Se.mozMatchesSelector||Se.oMatchesSelector;Ne=function(t){return function(){return Ae.call(this,t)}}}}var Ye=Ne,Ue={},De=null;if("undefined"!=typeof document){var Ee=document.documentElement;"onmouseenter"in Ee||(Ue={mouseenter:"mouseover",mouseleave:"mouseout"})}var Le=function(t,n,e){var r,u,s=i(t+""),c=s.length;{if(!(arguments.length<2)){for(h=n?a:o,null==e&&(e=!1),r=0;r<c;++r)this.each(h(s[r],n,e));return this}var h=this.node().__on;if(h)for(var l,f=0,d=h.length;f<d;++f)for(r=0,l=h[f];r<c;++r)if((u=s[r]).type===l.type&&u.name===l.name)return l.value}},Xe=function(t){return null==t?u:function(){return this.querySelector(t)}},Fe=function(t){"function"!=typeof t&&(t=Xe(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o,a,u=n[i],s=u.length,c=r[i]=new Array(s),h=0;h<s;++h)(o=u[h])&&(a=t.call(o,o.__data__,h,u))&&("__data__"in o&&(a.__data__=o.__data__),c[h]=a);return new Z(r,this._parents)},Pe=function(t){return null==t?s:function(){return this.querySelectorAll(t)}},He=function(t){"function"!=typeof t&&(t=Pe(t));for(var n=this._groups,e=n.length,r=[],i=[],o=0;o<e;++o)for(var a,u=n[o],s=u.length,c=0;c<s;++c)(a=u[c])&&(r.push(t.call(a,a.__data__,c,u)),i.push(a));return new Z(r,i)},ze=function(t){"function"!=typeof t&&(t=Ye(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o,a=n[i],u=a.length,s=r[i]=[],c=0;c<u;++c)(o=a[c])&&t.call(o,o.__data__,c,a)&&s.push(o);return new Z(r,this._parents)},Oe=function(t){return new Array(t.length)},Ie=function(){return new Z(this._enter||this._groups.map(Oe),this._parents)};c.prototype={constructor:c,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,n){return this._parent.insertBefore(t,n)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var qe=function(t){return function(){return t}},je="$",$e=function(t,n){if(!t)return p=new Array(this.size()),c=-1,this.each(function(t){p[++c]=t}),p;var e=n?l:h,r=this._parents,i=this._groups;"function"!=typeof t&&(t=qe(t));for(var o=i.length,a=new Array(o),u=new Array(o),s=new Array(o),c=0;c<o;++c){var f=r[c],d=i[c],g=d.length,p=t.call(f,f&&f.__data__,c,r),y=p.length,m=u[c]=new Array(y),v=a[c]=new Array(y),_=s[c]=new Array(g);e(f,d,m,v,_,p,n);for(var x,w,b=0,M=0;b<y;++b)if(x=m[b]){for(b>=M&&(M=b+1);!(w=v[M])&&++M<y;);x._next=w||null}}return a=new Z(a,r),a._enter=u,a._exit=s,a},Re=function(){return new Z(this._exit||this._groups.map(Oe),this._parents)},Ze=function(t){for(var n=this._groups,e=t._groups,r=n.length,i=e.length,o=Math.min(r,i),a=new Array(r),u=0;u<o;++u)for(var s,c=n[u],h=e[u],l=c.length,f=a[u]=new Array(l),d=0;d<l;++d)(s=c[d]||h[d])&&(f[d]=s);for(;u<r;++u)a[u]=n[u];return new Z(a,this._parents)},We=function(){for(var t=this._groups,n=-1,e=t.length;++n<e;)for(var r,i=t[n],o=i.length-1,a=i[o];--o>=0;)(r=i[o])&&(a&&a!==r.nextSibling&&a.parentNode.insertBefore(r,a),a=r);return this},Be=function(t){function n(n,e){return n&&e?t(n.__data__,e.__data__):!n-!e}t||(t=f);for(var e=this._groups,r=e.length,i=new Array(r),o=0;o<r;++o){for(var a,u=e[o],s=u.length,c=i[o]=new Array(s),h=0;h<s;++h)(a=u[h])&&(c[h]=a);c.sort(n)}return new Z(i,this._parents).order()},Ge=function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},Ve=function(){var t=new Array(this.size()),n=-1;return this.each(function(){t[++n]=this}),t},Je=function(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var r=t[n],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null},Qe=function(){var t=0;return this.each(function(){++t}),t},Ke=function(){return!this.node()},tr=function(t){for(var n=this._groups,e=0,r=n.length;e<r;++e)for(var i,o=n[e],a=0,u=o.length;a<u;++a)(i=o[a])&&t.call(i,i.__data__,a,o);return this},nr=function(t,n){var e=ke(t);if(arguments.length<2){var r=this.node();return e.local?r.getAttributeNS(e.space,e.local):r.getAttribute(e)}return this.each((null==n?e.local?g:d:"function"==typeof n?e.local?v:m:e.local?y:p)(e,n))},er=function(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView},rr=function(t,n,e){var r;return arguments.length>1?this.each((null==n?_:"function"==typeof n?w:x)(t,n,null==e?"":e)):er(r=this.node()).getComputedStyle(r,null).getPropertyValue(t)},ir=function(t,n){return arguments.length>1?this.each((null==n?b:"function"==typeof n?T:M)(t,n)):this.node()[t]};N.prototype={add:function(t){var n=this._names.indexOf(t);n<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var n=this._names.indexOf(t);n>=0&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var or=function(t,n){var e=k(t+"");if(arguments.length<2){for(var r=C(this.node()),i=-1,o=e.length;++i<o;)if(!r.contains(e[i]))return!1;return!0}return this.each(("function"==typeof n?D:n?Y:U)(e,n))},ar=function(t){return arguments.length?this.each(null==t?E:("function"==typeof t?X:L)(t)):this.node().textContent},ur=function(t){return arguments.length?this.each(null==t?F:("function"==typeof t?H:P)(t)):this.node().innerHTML},sr=function(){return this.each(z)},cr=function(){return this.each(O)},hr=function(t){var n="function"==typeof t?t:Ce(t);return this.select(function(){return this.appendChild(n.apply(this,arguments))})},lr=function(t,n){var e="function"==typeof t?t:Ce(t),r=null==n?I:"function"==typeof n?n:Xe(n);return this.select(function(){return this.insertBefore(e.apply(this,arguments),r.apply(this,arguments)||null)})},fr=function(){return this.each(q)},dr=function(t){return arguments.length?this.property("__data__",t):this.node().__data__},gr=function(t,n){return this.each(("function"==typeof n?R:$)(t,n))},pr=[null];Z.prototype=W.prototype={constructor:Z,select:Fe,selectAll:He,filter:ze,data:$e,enter:Ie,exit:Re,merge:Ze,order:We,sort:Be,call:Ge,nodes:Ve,node:Je,size:Qe,empty:Ke,each:tr,attr:nr,style:rr,property:ir,classed:or,text:ar,html:ur,raise:sr,lower:cr,append:hr,insert:lr,remove:fr,datum:dr,on:Le,dispatch:gr};var yr=function(t){return"string"==typeof t?new Z([[document.querySelector(t)]],[document.documentElement]):new Z([[t]],pr)},mr=Math.PI,vr=2*mr,_r=1e-6,xr=vr-_r;B.prototype=G.prototype={constructor:B,moveTo:function(t,n){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+n)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,n){this._+="L"+(this._x1=+t)+","+(this._y1=+n)},quadraticCurveTo:function(t,n,e,r){this._+="Q"+ +t+","+ +n+","+(this._x1=+e)+","+(this._y1=+r)},bezierCurveTo:function(t,n,e,r,i,o){this._+="C"+ +t+","+ +n+","+ +e+","+ +r+","+(this._x1=+i)+","+(this._y1=+o)},arcTo:function(t,n,e,r,i){t=+t,n=+n,e=+e,r=+r,i=+i;var o=this._x1,a=this._y1,u=e-t,s=r-n,c=o-t,h=a-n,l=c*c+h*h;if(i<0)throw new Error("negative radius: "+i);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=n);else if(l>_r)if(Math.abs(h*u-s*c)>_r&&i){
var f=e-o,d=r-a,g=u*u+s*s,p=f*f+d*d,y=Math.sqrt(g),m=Math.sqrt(l),v=i*Math.tan((mr-Math.acos((g+l-p)/(2*y*m)))/2),_=v/m,x=v/y;Math.abs(_-1)>_r&&(this._+="L"+(t+_*c)+","+(n+_*h)),this._+="A"+i+","+i+",0,0,"+ +(h*f>c*d)+","+(this._x1=t+x*u)+","+(this._y1=n+x*s)}else this._+="L"+(this._x1=t)+","+(this._y1=n);else;},arc:function(t,n,e,r,i,o){t=+t,n=+n,e=+e;var a=e*Math.cos(r),u=e*Math.sin(r),s=t+a,c=n+u,h=1^o,l=o?r-i:i-r;if(e<0)throw new Error("negative radius: "+e);null===this._x1?this._+="M"+s+","+c:(Math.abs(this._x1-s)>_r||Math.abs(this._y1-c)>_r)&&(this._+="L"+s+","+c),e&&(l>xr?this._+="A"+e+","+e+",0,1,"+h+","+(t-a)+","+(n-u)+"A"+e+","+e+",0,1,"+h+","+(this._x1=s)+","+(this._y1=c):(l<0&&(l=l%vr+vr),this._+="A"+e+","+e+",0,"+ +(l>=mr)+","+h+","+(this._x1=t+e*Math.cos(i))+","+(this._y1=n+e*Math.sin(i))))},rect:function(t,n,e,r){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+n)+"h"+ +e+"v"+ +r+"h"+-e+"Z"},toString:function(){return this._}};var wr=function(t){return function(){return t}};Math.PI;V.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;default:this._context.lineTo(t,n)}}};var br=function(t){return new V(t)},Mr=function(){function t(t){var u,s,c,h=t.length,l=!1;for(null==i&&(a=o(c=G())),u=0;u<=h;++u)!(u<h&&r(s=t[u],u,t))===l&&((l=!l)?a.lineStart():a.lineEnd()),l&&a.point(+n(s,u,t),+e(s,u,t));if(c)return a=null,c+""||null}var n=J,e=Q,r=wr(!0),i=null,o=br,a=null;return t.x=function(e){return arguments.length?(n="function"==typeof e?e:wr(+e),t):n},t.y=function(n){return arguments.length?(e="function"==typeof n?n:wr(+n),t):e},t.defined=function(n){return arguments.length?(r="function"==typeof n?n:wr(!!n),t):r},t.curve=function(n){return arguments.length?(o=n,null!=i&&(a=o(i)),t):o},t.context=function(n){return arguments.length?(null==n?i=a=null:a=o(i=n),t):i},t};tt(br);K.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(t,n){this._curve.point(n*Math.sin(t),n*-Math.cos(t))}};et.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:nt(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:nt(this,t,n)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n}},ut.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:at(this,this._t0,ot(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){var e=NaN;if(t=+t,n=+n,t!==this._x1||n!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3,at(this,ot(this,e=it(this,t,n)),e);break;default:at(this,this._t0,e=it(this,t,n))}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n,this._t0=e}}},(st.prototype=Object.create(ut.prototype)).point=function(t,n){ut.prototype.point.call(this,n,t)},ct.prototype={moveTo:function(t,n){this._context.moveTo(n,t)},closePath:function(){this._context.closePath()},lineTo:function(t,n){this._context.lineTo(n,t)},bezierCurveTo:function(t,n,e,r,i,o){this._context.bezierCurveTo(n,t,r,e,o,i)}};var Tr=(Array.prototype.slice,function(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}),kr=function(t){return 1===t.length&&(t=ht(t)),{left:function(n,e,r,i){for(null==r&&(r=0),null==i&&(i=n.length);r<i;){var o=r+i>>>1;t(n[o],e)<0?r=o+1:i=o}return r},right:function(n,e,r,i){for(null==r&&(r=0),null==i&&(i=n.length);r<i;){var o=r+i>>>1;t(n[o],e)>0?i=o:r=o+1}return r}}},Cr=kr(Tr),Nr=Cr.right,Sr=function(t,n){var e,r,i,o=-1,a=t.length;if(null==n){for(;++o<a;)if(null!=(r=t[o])&&r>=r){e=i=r;break}for(;++o<a;)null!=(r=t[o])&&(e>r&&(e=r),i<r&&(i=r))}else{for(;++o<a;)if(null!=(r=n(t[o],o,t))&&r>=r){e=i=r;break}for(;++o<a;)null!=(r=n(t[o],o,t))&&(e>r&&(e=r),i<r&&(i=r))}return[e,i]},Ar=Array.prototype,Yr=(Ar.slice,Ar.map,function(t,n,e){t=+t,n=+n,e=(i=arguments.length)<2?(n=t,t=0,1):i<3?1:+e;for(var r=-1,i=0|Math.max(0,Math.ceil((n-t)/e)),o=new Array(i);++r<i;)o[r]=t+r*e;return o}),Ur=Math.sqrt(50),Dr=Math.sqrt(10),Er=Math.sqrt(2),Lr=function(t,n,e){var r=lt(t,n,e);return Yr(Math.ceil(t/r)*r,Math.floor(n/r)*r+r/2,r)},Xr="$";ft.prototype=dt.prototype={constructor:ft,has:function(t){return Xr+t in this},get:function(t){return this[Xr+t]},set:function(t,n){return this[Xr+t]=n,this},remove:function(t){var n=Xr+t;return n in this&&delete this[n]},clear:function(){for(var t in this)t[0]===Xr&&delete this[t]},keys:function t(){var t=[];for(var n in this)n[0]===Xr&&t.push(n.slice(1));return t},values:function t(){var t=[];for(var n in this)n[0]===Xr&&t.push(this[n]);return t},entries:function t(){var t=[];for(var n in this)n[0]===Xr&&t.push({key:n.slice(1),value:this[n]});return t},size:function t(){var t=0;for(var n in this)n[0]===Xr&&++t;return t},empty:function(){for(var t in this)if(t[0]===Xr)return!1;return!0},each:function(t){for(var n in this)n[0]===Xr&&t(this[n],n.slice(1),this)}};var Fr=dt.prototype;gt.prototype=pt.prototype={constructor:gt,has:Fr.has,add:function(t){return t+="",this[Xr+t]=t,this},remove:Fr.remove,clear:Fr.clear,values:Fr.keys,size:Fr.size,empty:Fr.empty,each:Fr.each};var Pr=Array.prototype,Hr=Pr.map,zr=Pr.slice,Or={name:"implicit"},Ir=function(t,n,e){t.prototype=n.prototype=e,e.constructor=t},qr=.7,jr=1/qr,$r="\\s*([+-]?\\d+)\\s*",Rr="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Zr="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Wr=/^#([0-9a-f]{3})$/,Br=/^#([0-9a-f]{6})$/,Gr=new RegExp("^rgb\\("+[$r,$r,$r]+"\\)$"),Vr=new RegExp("^rgb\\("+[Zr,Zr,Zr]+"\\)$"),Jr=new RegExp("^rgba\\("+[$r,$r,$r,Rr]+"\\)$"),Qr=new RegExp("^rgba\\("+[Zr,Zr,Zr,Rr]+"\\)$"),Kr=new RegExp("^hsl\\("+[Rr,Zr,Zr]+"\\)$"),ti=new RegExp("^hsla\\("+[Rr,Zr,Zr,Rr]+"\\)$"),ni={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Ir(wt,bt,{displayable:function(){return this.rgb().displayable()},toString:function(){return this.rgb()+""}}),Ir(Nt,Ct,xt(wt,{brighter:function(t){return t=null==t?jr:Math.pow(jr,t),new Nt(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?qr:Math.pow(qr,t),new Nt(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return 0<=this.r&&this.r<=255&&0<=this.g&&this.g<=255&&0<=this.b&&this.b<=255&&0<=this.opacity&&this.opacity<=1},toString:function(){var t=this.opacity;return t=isNaN(t)?1:Math.max(0,Math.min(1,t)),(1===t?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}})),Ir(Ut,Yt,xt(wt,{brighter:function(t){return t=null==t?jr:Math.pow(jr,t),new Ut(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?qr:Math.pow(qr,t),new Ut(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),n=isNaN(t)||isNaN(this.s)?0:this.s,e=this.l,r=e+(e<.5?e:1-e)*n,i=2*e-r;return new Nt(Dt(t>=240?t-240:t+120,i,r),Dt(t,i,r),Dt(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1}}));var ei=Math.PI/180,ri=180/Math.PI,ii=18,oi=.95047,ai=1,ui=1.08883,si=4/29,ci=6/29,hi=3*ci*ci,li=ci*ci*ci;Ir(Xt,Lt,xt(wt,{brighter:function(t){return new Xt(this.l+ii*(null==t?1:t),this.a,this.b,this.opacity)},darker:function(t){return new Xt(this.l-ii*(null==t?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,n=isNaN(this.a)?t:t+this.a/500,e=isNaN(this.b)?t:t-this.b/200;return t=ai*Pt(t),n=oi*Pt(n),e=ui*Pt(e),new Nt(Ht(3.2404542*n-1.5371385*t-.4985314*e),Ht(-.969266*n+1.8760108*t+.041556*e),Ht(.0556434*n-.2040259*t+1.0572252*e),this.opacity)}})),Ir(qt,It,xt(wt,{brighter:function(t){return new qt(this.h,this.c,this.l+ii*(null==t?1:t),this.opacity)},darker:function(t){return new qt(this.h,this.c,this.l-ii*(null==t?1:t),this.opacity)},rgb:function(){return Et(this).rgb()}}));var fi=-.14861,di=1.78277,gi=-.29227,pi=-.90649,yi=1.97294,mi=yi*pi,vi=yi*di,_i=di*gi-pi*fi;Ir(Rt,$t,xt(wt,{brighter:function(t){return t=null==t?jr:Math.pow(jr,t),new Rt(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?qr:Math.pow(qr,t),new Rt(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*ei,n=+this.l,e=isNaN(this.s)?0:this.s*n*(1-n),r=Math.cos(t),i=Math.sin(t);return new Nt(255*(n+e*(fi*r+di*i)),255*(n+e*(gi*r+pi*i)),255*(n+e*(yi*r)),this.opacity)}}));var xi=function(t){return function(){return t}},wi=function t(n){function e(t,n){var e=r((t=Ct(t)).r,(n=Ct(n)).r),i=r(t.g,n.g),o=r(t.b,n.b),a=r(t.opacity,n.opacity);return function(n){return t.r=e(n),t.g=i(n),t.b=o(n),t.opacity=a(n),t+""}}var r=Gt(n);return e.gamma=t,e}(1),bi=function(t,n){var e,r=n?n.length:0,i=t?Math.min(r,t.length):0,o=new Array(r),a=new Array(r);for(e=0;e<i;++e)o[e]=Di(t[e],n[e]);for(;e<r;++e)a[e]=n[e];return function(t){for(e=0;e<i;++e)a[e]=o[e](t);return a}},Mi=function(t,n){var e=new Date;return t=+t,n-=t,function(r){return e.setTime(t+n*r),e}},Ti=function(t,n){return t=+t,n-=t,function(e){return t+n*e}},ki="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ci=function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")},Ni=function(){function t(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(n,e,r){return e&&t(n.prototype,e),r&&t(n,r),n}}(),Si=function(t,n){var e,r={},i={};null!==t&&"object"===("undefined"==typeof t?"undefined":ki(t))||(t={}),null!==n&&"object"===("undefined"==typeof n?"undefined":ki(n))||(n={});for(e in n)e in t?r[e]=Di(t[e],n[e]):i[e]=n[e];return function(t){for(e in r)i[e]=r[e](t);return i}},Ai=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Yi=new RegExp(Ai.source,"g"),Ui=function(t,n){var e,r,i,o=Ai.lastIndex=Yi.lastIndex=0,a=-1,u=[],s=[];for(t+="",n+="";(e=Ai.exec(t))&&(r=Yi.exec(n));)(i=r.index)>o&&(i=n.slice(o,i),u[a]?u[a]+=i:u[++a]=i),(e=e[0])===(r=r[0])?u[a]?u[a]+=r:u[++a]=r:(u[++a]=null,s.push({i:a,x:Ti(e,r)})),o=Yi.lastIndex;return o<n.length&&(i=n.slice(o),u[a]?u[a]+=i:u[++a]=i),u.length<2?s[0]?Qt(s[0].x):Jt(n):(n=s.length,function(t){for(var e,r=0;r<n;++r)u[(e=s[r]).i]=e.x(t);return u.join("")})},Di=function(t,n){var e,r="undefined"==typeof n?"undefined":ki(n);return null==n||"boolean"===r?xi(n):("number"===r?Ti:"string"===r?(e=bt(n))?(n=e,wi):Ui:n instanceof bt?wi:n instanceof Date?Mi:Array.isArray(n)?bi:isNaN(n)?Si:Ti)(t,n)},Ei=function(t,n){return t=+t,n-=t,function(e){return Math.round(t+n*e)}};180/Math.PI,Math.SQRT2;Kt(Bt);var Li,Xi=Kt(Vt),Fi=function(t){return function(){return t}},Pi=function(t){return+t},Hi=[0,1],zi=function(t,n){if((e=(t=n?t.toExponential(n-1):t.toExponential()).indexOf("e"))<0)return null;var e,r=t.slice(0,e);return[r.length>1?r[0]+r.slice(2):r,+t.slice(e+1)]},Oi=function(t){return t=zi(Math.abs(t)),t?t[1]:NaN},Ii=function(t,n){return function(e,r){for(var i=e.length,o=[],a=0,u=t[0],s=0;i>0&&u>0&&(s+u+1>r&&(u=Math.max(1,r-s)),o.push(e.substring(i-=u,i+u)),!((s+=u+1)>r));)u=t[a=(a+1)%t.length];return o.reverse().join(n)}},qi=function(t,n){t=t.toPrecision(n);t:for(var e,r=t.length,i=1,o=-1;i<r;++i)switch(t[i]){case".":o=e=i;break;case"0":0===o&&(o=i),e=i;break;case"e":break t;default:o>0&&(o=0)}return o>0?t.slice(0,o)+t.slice(e+1):t},ji=function(t,n){var e=zi(t,n);if(!e)return t+"";var r=e[0],i=e[1],o=i-(Li=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+zi(t,Math.max(0,n+o-1))[0]},$i=function(t,n){var e=zi(t,n);if(!e)return t+"";var r=e[0],i=e[1];return i<0?"0."+new Array((-i)).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")},Ri={"":qi,"%":function(t,n){return(100*t).toFixed(n)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.round(t).toString(10)},e:function(t,n){return t.toExponential(n)},f:function(t,n){return t.toFixed(n)},g:function(t,n){return t.toPrecision(n)},o:function(t){return Math.round(t).toString(8)},p:function(t,n){return $i(100*t,n)},r:$i,s:ji,X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}},Zi=/^(?:(.)?([<>=^]))?([+\-\( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?([a-z%])?$/i,Wi=function(t){return new sn(t)};sn.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(null==this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(null==this.precision?"":"."+Math.max(0,0|this.precision))+this.type};var Bi,Gi,Vi,Ji=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"],Qi=function(t){function n(t){function n(t){var n,i,s,v=g,_=p;if("c"===d)_=y(t)+_,t="";else{t=+t;var x=(t<0||1/t<0)&&(t*=-1,!0);if(t=y(t,f),x)for(n=-1,i=t.length,x=!1;++n<i;)if(s=t.charCodeAt(n),48<s&&s<58||"x"===d&&96<s&&s<103||"X"===d&&64<s&&s<71){x=!0;break}if(v=(x?"("===u?u:"-":"-"===u||"("===u?"":u)+v,_=_+("s"===d?Ji[8+Li/3]:"")+(x&&"("===u?")":""),m)for(n=-1,i=t.length;++n<i;)if(s=t.charCodeAt(n),48>s||s>57){_=(46===s?o+t.slice(n+1):t.slice(n))+_,t=t.slice(0,n);break}}l&&!c&&(t=r(t,1/0));var w=v.length+t.length+_.length,b=w<h?new Array(h-w+1).join(e):"";switch(l&&c&&(t=r(b+t,b.length?h-_.length:1/0),b=""),a){case"<":return v+t+_+b;case"=":return v+b+t+_;case"^":return b.slice(0,w=b.length>>1)+v+t+_+b.slice(w)}return b+v+t+_}t=Wi(t);var e=t.fill,a=t.align,u=t.sign,s=t.symbol,c=t.zero,h=t.width,l=t.comma,f=t.precision,d=t.type,g="$"===s?i[0]:"#"===s&&/[boxX]/.test(d)?"0"+d.toLowerCase():"",p="$"===s?i[1]:/[%p]/.test(d)?"%":"",y=Ri[d],m=!d||/[defgprs%]/.test(d);return f=null==f?d?6:12:/[gprs]/.test(d)?Math.max(1,Math.min(21,f)):Math.max(0,Math.min(20,f)),n.toString=function(){return t+""},n}function e(t,e){var r=n((t=Wi(t),t.type="f",t)),i=3*Math.max(-8,Math.min(8,Math.floor(Oi(e)/3))),o=Math.pow(10,-i),a=Ji[8+i/3];return function(t){return r(o*t)+a}}var r=t.grouping&&t.thousands?Ii(t.grouping,t.thousands):cn,i=t.currency,o=t.decimal;return{format:n,formatPrefix:e}};hn({decimal:".",thousands:",",grouping:[3],currency:["$",""]});var Ki=function(t){return Math.max(0,-Oi(Math.abs(t)))},to=function(t,n){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Oi(n)/3)))-Oi(Math.abs(t)))},no=function(t,n){return t=Math.abs(t),n=Math.abs(n)-t,Math.max(0,Oi(n)-Oi(t))+1},eo=function(t,n,e){var r,i=t[0],o=t[t.length-1],a=lt(i,o,null==n?10:n);switch(e=Wi(null==e?",f":e),e.type){case"s":var u=Math.max(Math.abs(i),Math.abs(o));return null!=e.precision||isNaN(r=to(a,u))||(e.precision=r),Vi(e,u);case"":case"e":case"g":case"p":case"r":null!=e.precision||isNaN(r=no(a,Math.max(Math.abs(i),Math.abs(o))))||(e.precision=r-("e"===e.type));break;case"f":case"%":null!=e.precision||isNaN(r=Ki(a))||(e.precision=r-2*("%"===e.type))}return Gi(e)},ro=new Date,io=new Date,oo=dn(function(){},function(t,n){t.setTime(+t+n)},function(t,n){return n-t});oo.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?dn(function(n){n.setTime(Math.floor(n/t)*t)},function(n,e){n.setTime(+n+e*t)},function(n,e){return(e-n)/t}):oo:null};var ao=1e3,uo=6e4,so=36e5,co=864e5,ho=6048e5,lo=(dn(function(t){t.setTime(Math.floor(t/ao)*ao)},function(t,n){t.setTime(+t+n*ao)},function(t,n){return(n-t)/ao},function(t){return t.getUTCSeconds()}),dn(function(t){t.setTime(Math.floor(t/uo)*uo)},function(t,n){t.setTime(+t+n*uo)},function(t,n){return(n-t)/uo},function(t){return t.getMinutes()}),dn(function(t){var n=t.getTimezoneOffset()*uo%so;n<0&&(n+=so),t.setTime(Math.floor((+t-n)/so)*so+n)},function(t,n){t.setTime(+t+n*so)},function(t,n){return(n-t)/so},function(t){return t.getHours()}),dn(function(t){t.setHours(0,0,0,0)},function(t,n){t.setDate(t.getDate()+n)},function(t,n){return(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*uo)/co},function(t){return t.getDate()-1})),fo=gn(0),go=gn(1),po=(gn(2),gn(3),gn(4),gn(5),gn(6),dn(function(t){t.setDate(1),t.setHours(0,0,0,0)},function(t,n){t.setMonth(t.getMonth()+n)},function(t,n){return n.getMonth()-t.getMonth()+12*(n.getFullYear()-t.getFullYear())},function(t){return t.getMonth()}),dn(function(t){t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,n){t.setFullYear(t.getFullYear()+n)},function(t,n){return n.getFullYear()-t.getFullYear()},function(t){return t.getFullYear()}));po.every=function(t){return isFinite(t=Math.floor(t))&&t>0?dn(function(n){n.setFullYear(Math.floor(n.getFullYear()/t)*t),n.setMonth(0,1),n.setHours(0,0,0,0)},function(n,e){n.setFullYear(n.getFullYear()+e*t)}):null};var yo=(dn(function(t){t.setUTCSeconds(0,0)},function(t,n){t.setTime(+t+n*uo)},function(t,n){return(n-t)/uo},function(t){return t.getUTCMinutes()}),dn(function(t){t.setUTCMinutes(0,0,0)},function(t,n){t.setTime(+t+n*so)},function(t,n){return(n-t)/so},function(t){return t.getUTCHours()}),dn(function(t){t.setUTCHours(0,0,0,0)},function(t,n){t.setUTCDate(t.getUTCDate()+n)},function(t,n){return(n-t)/co},function(t){return t.getUTCDate()-1})),mo=pn(0),vo=pn(1),_o=(pn(2),pn(3),pn(4),pn(5),pn(6),dn(function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)},function(t,n){t.setUTCMonth(t.getUTCMonth()+n)},function(t,n){return n.getUTCMonth()-t.getUTCMonth()+12*(n.getUTCFullYear()-t.getUTCFullYear())},function(t){return t.getUTCMonth()}),dn(function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,n){t.setUTCFullYear(t.getUTCFullYear()+n)},function(t,n){return n.getUTCFullYear()-t.getUTCFullYear()},function(t){return t.getUTCFullYear()}));_o.every=function(t){return isFinite(t=Math.floor(t))&&t>0?dn(function(n){n.setUTCFullYear(Math.floor(n.getUTCFullYear()/t)*t),n.setUTCMonth(0,1),n.setUTCHours(0,0,0,0)},function(n,e){n.setUTCFullYear(n.getUTCFullYear()+e*t)}):null};var xo,wo,bo,Mo,To,ko={"-":"",_:" ",0:"0"},Co=/^\s*\d+/,No=/^%/,So=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g;de({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var Ao="%Y-%m-%dT%H:%M:%S.%LZ",Yo=(Date.prototype.toISOString?ge:Mo(Ao),+new Date("2000-01-01T00:00:00.000Z")?pe:To(Ao),function(t){return t.match(/.{6}/g).map(function(t){return"#"+t})});Yo("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),Yo("393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6"),Yo("3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9"),Yo("1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5"),Xi($t(300,.5,0),$t(-240,.5,1));var Uo=(Xi($t(-100,.75,.35),$t(80,1.5,.8)),Xi($t(260,.75,.35),$t(80,1.5,.8)),$t(),Array.prototype.slice),Do=function(t){return t},Eo=1,Lo=2,Xo=3,Fo=4,Po=1e-6,Ho={top:10,right:20,bottom:30,left:30},zo=200,Oo=400,Io="x",qo="y",jo="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx",$o="x",Ro="string",Zo="undefined",Wo=function(){return jo.replace(/[xy]/g,function(t){var n=16*Math.random()|0,e=t===$o?n:3&n|8;return e.toString(16)})},Bo=function(t,n){return("undefined"==typeof t?"undefined":ki(t))===Ro?n[t]:t(n)},Go=function(){function t(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Ci(this,t),n.element&&(this.element=yr(n.element)),this.id=n.id||Wo(),this.classes=n.classes||[],this.margin=n.margin||Ho,this.height=(n.height||zo)-this.margin.top-this.margin.bottom,this.width=(n.width||Oo)-this.margin.left-this.margin.right,this.data=n.data||[],this.accessorX=n.accessorX||Io,this.accessorY=n.accessorY||qo,this.domainX=n.domainX,this.domainY=n.domainY,this.showDataPoints=ki(n.showDataPoints)===Zo||n.showDataPoints,this.showGridLines=ki(n.showGridLines)===Zo||n.showGridLines}return Ni(t,[{key:"draw",value:function(){var t=this;if(ki(this.element)===Zo)throw new Error("No element selected.");if(ki(this.data)===Zo||!this.data.length)throw new Error("No chart data provided.");return ki(this.domainX)===Zo&&(this.domainX=this.data.map(function(n){return Bo(t.accessorX,n)})),ki(this.domainY)===Zo&&(this.domainY=Sr(this.data,function(n){return Bo(t.accessorY,n)})),this.scaleX=_t().domain(this.domainX).range([0,this.width]),this.scaleY=fn().domain(this.domainY).range([this.height,0]),this.axisX=we(this.scaleX),this.axisY=be(this.scaleY).ticks(this.data.length),this.chart=this.element.append("svg").attr("id",this.id).attr("class",this.classes.join(" ")).attr("height",this.height+this.margin.top+this.margin.bottom).attr("width",this.width+this.margin.left+this.margin.right).append("g").attr("transform","translate("+this.margin.left+", "+this.margin.top+")"),this.chart.classed("threesy-line",!0),this.gridLineX=this.chart.selectAll(".threesy-grid-line-x").data(this.data.filter(function(t,n){return n>0})).enter().append("line").attr("class","threesy-grid-line threesy-grid-line-x").attr("x1",function(n){return t.scaleX(Bo(t.accessorX,n))}).attr("x2",function(n){return t.scaleX(Bo(t.accessorX,n))}).attr("y1",0).attr("y2",this.height),this.gridLineY=this.chart.selectAll(".threesy-grid-line-y").data(this.data.filter(function(n){return t.scaleY(Bo(t.accessorY,n))<t.height-1})).enter().append("line").attr("class","threesy-grid-line threesy-grid-line-y").attr("x1",0).attr("x1",this.width).attr("y1",function(n){return t.scaleY(Bo(t.accessorY,n))}).attr("y2",function(n){return t.scaleY(Bo(t.accessorY,n))}),this.axisLineX=this.chart.append("g").attr("class","x axis").attr("transform","translate(0, "+this.height+")").call(this.axisX),this.axisLineY=this.chart.append("g").attr("class","y axis").call(this.axisY),this.line=Mr().x(function(n){return t.scaleX(Bo(t.accessorX,n))}).y(function(n){return t.scaleY(Bo(t.accessorY,n))}),this.path=this.chart.append("g").append("path").datum(this.data).attr("class","line").attr("d",this.line),this.dataPoints=this.chart.selectAll(".threesy-data-point").data(this.data).enter().append("circle").attr("class","threesy-data-point").attr("data-tooltip",function(n){return Bo(t.accessorX,n)+": "+Bo(t.accessorY,n)}).attr("data-tooltip-position","top center").attr("r",3.5).attr("cx",function(n){return t.scaleX(Bo(t.accessorX,n))}).attr("cy",function(n){return t.scaleY(Bo(t.accessorY,n))}).style("visibility",this.showDataPoints?"visible":"hidden"),this}},{key:"update",value:function(t){var n=this;if(("undefined"==typeof t?"undefined":ki(t))===Zo||!t.length)throw new Error("Can't invoke update without data.");this.data=t,this.domainX=this.data.map(function(t){return Bo(n.accessorX,t)}),this.domainY=Sr(this.data,function(t){return Bo(n.accessorY,t)}),this.scaleX.domain(this.domainX),this.scaleY.domain(this.domainY),this.gridLineX.data(this.data.filter(function(t,n){return n>0})).attr("x1",function(t){return n.scaleX(Bo(n.accessorX,t))}).attr("x2",function(t){return n.scaleX(Bo(n.accessorX,t))}).attr("y1",0).attr("y2",this.height),this.gridLineY.data(this.data.filter(function(t){return n.scaleY(Bo(n.accessorY,t))<n.height-1})).attr("x1",0).attr("x1",this.width).attr("y1",function(t){return n.scaleY(Bo(n.accessorY,t))}).attr("y2",function(t){return n.scaleY(Bo(n.accessorY,t))}),this.gridLineX.exit().remove(),this.gridLineY.exit().remove(),this.axisLineX.call(this.axisX),this.axisLineY.call(this.axisY),this.path.datum(this.data).attr("d",this.line),this.dataPoints.data(this.data).attr("cx",function(t){return n.scaleX(Bo(n.accessorX,t))}).attr("cy",function(t){return n.scaleY(Bo(n.accessorY,t))}),this.dataPoints.exit().remove()}},{key:"toggleDataPoints",value:function(){this.dataPoints.style("visibility",(this.showDataPoints=!this.showDataPoints)?"visible":"hidden")}},{key:"toggleGridLines",value:function(){this.chart.selectAll(".threesy-grid-line").style("visibility",(this.showGridLines=!this.showGridLines)?"visible":"hidden")}}]),t}();return Go}();